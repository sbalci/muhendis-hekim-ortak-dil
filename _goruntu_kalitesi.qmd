## Görüntü Kalitesi

::: panel-tabset

### Preparat

- Artefakt
  - Kıvrımlar 
  - Bulanıklık 
  - Kalem işaretleri
  - Hava kabarcıkları

### Tarama

- Tarama kalitesi
  - Kamera, Işık
  - Odak 
- Tarama zamanı (hemen vs arşiv)


### Kalite Kontrol

- Patolog
- Yapay zeka
  - GrandQC

:::


## İdeal Şartlarda Bile Olan Sorunlar

- Aynı boya, farklı laboratuvarlarda farklı sonuçlar
- Aynı laboratuvarda, farklı günlerde farklı sonuçlar
- Renk kalitesi makale
- Tarayıcı kalibrasyonu
- Işık kaynağı değişkenliği


::: notes

Çözümler

- Color normalization (Macenko, Reinhard, Vahadane)
- Stain separation (H&E → Hematoxylin + Eosin)
- StainGAN ve deep learning yaklaşımları
- Reference slide kullanımı

Preprocessing Adımları


1. **Thumbnail inceleme**: Hızlı kalite kontrolü
2. **Doku segmentasyonu**: Background vs tissue
3. **Tile extraction**: Patch boyutu seçimi (256x256, 512x512, 1024x1024)
4. **Quality filtering**: Bulanık veya artifact içeren tile'ların elenmesi
5. **Color normalization**: Standardizasyon
6. **Data augmentation**: Rotation, flip, color jitter

Mühendis-Hekim Tartışma Noktaları

**Hekim sorusu**: "Neden modelim laboratuvar değişince çalışmıyor?"

**Mühendis cevabı**: "Color normalization ve domain adaptation gerekiyor"

**Mühendis sorusu**: "Hangi artifacts önemli, hangisi göz ardı edilebilir?"

**Hekim cevabı**: "Küçük kıvrım ok, ama yanık alan ve kalın kesitte hücre morfolojisi değişir"

Araçlar ve Kaynaklar

- **HistoQC**: Otomatik kalite kontrol
- **QuPath**: Manual quality assessment
- **StainTools**: Python color normalization library
- **TorchStain**: PyTorch-based stain normalization

Görüntü kalitesi, model performansını doğrudan etkiler. Patoloji laboratuvarlarının standardizasyon çalışmaları, makine öğrenmesi modellerinin genelleştirilebilirliği için kritik öneme sahiptir.

**Tartışma soruları:**
- Kalite kontrolü otomatik mi manuel mi yapılmalı?
- Threshold değerleri nasıl belirlenmeli?
- Düşük kaliteli görüntüler veri setinden çıkarılmalı mı yoksa augmentation ile kullanılmalı mı?


Boya Varyasyonu Problemi

Laboratuvarlar Arası

- Farklı boyama protokolleri
- Farklı kimyasal tedarikçileri
- Farklı pH değerleri
- Farklı inkubasyon süreleri
- Tarayıcı farklılıkları

Aynı Laboratuvar İçinde

- Boya yaşlanması
- Otostainer kalibrasyonu
- Reagent lot değişimi
- Kesit kalınlığı değişimi
- Fikzasyon süresi farklılıkları

Kolaylaştırıcı notları (görüntü kalitesi):
- Kabul kriterleri: odak skoru > X, doku yüzdesi > Y%; blur/fold/ink eşiği ve raporlama.
- QC pipeline: HistoQC/QuPath ile otomatik rapor + %N manuel örnekleme; sonuçların sürümlemesi.
- Renk varyasyonu azaltma: referans lam, kontrol serisi ve tarayıcı kalibrasyonu; normalizasyonun nerede uygulandığı (train/inference).
- Artefakt politikası: tamamen dışlama vs modelle birlikte tolerans/robustluk; klinik kabul kriterleriyle hizalama.

:::

